# Как работать над проектом

«Шесть городов» — сервис для путешественников, не желающих переплачивать за аренду жилья. Выбирайте один из шести популярных городов для путешествий и получайте актуальный список предложений по аренде.

## Окружение

Для удобства работы над проектом используются инструменты из **Node.js** и **npm**. Все необходимые настройки произведены. Убедитесь, что на рабочем компьютере установлен актуальный LTS релиз **Node.js**. Актуальная версия **Node.js** указана в файле `package.json` в поле `engines.node`. Затем, в терминале, перейдите в директорию с проектом и _единожды_ запустите команду:

```bash
npm install
```

Эта команда запустит процесс установки зависимостей проекта из **npm**.

## Сценарии

В `package.json` предопределено несколько сценариев:

- **Скомпилировать проект**

  ```bash
  npm run compile
  ```

  Создаст директорию `dist` и скомпилирует проект.

- **Удалить скомпилированный проект**

  ```bash
  npm run clean
  ```

  Удаляет директорию `dist`. Используется перед компиляцией.

- **Собрать проект**

  ```bash
  npm run build
  ```

  Выполняет сборку проекта: удаляет ранее скомпилированный проект и компилирует заново.

- **Проверить линтером**

  ```bash
  npm run lint
  ```

  Запуск проверки проекта статическим анализатором кода **ESLint**. Линтер проверяет файлы только внутри директории `src`.

- **Запустить ts-модуль без компиляции**

  ```bash
  npm run ts -- <Путь к модулю с ts-кодом>
  ```

  Пакет `ts-node` позволяет выполнить TS-код в Node.js без предварительной компиляции. Используется только на этапе разработки.

- **Запустить моковый сервер**

  ```bash
  npm run mock-server
  ```

  Запускает моковый сервер для данных расположенных в JSON файле `src/mock/mock-server-data.json`

- **Запустить CLI для генерации и импорта тестовых данных**

  ```bash
  npm run start:cli
  ```

  ```
  Пример: cli.js --<command> [--arguments]

  Команды:

  --version:                   # выводит номер версии
  --help:                      # печатает этот текст
  --import <path>:             # импортирует данные из TSV
  --generate <n> <path> <url>  # генерирует произвольное количество тестовых данных
  ```

- **Запустить тестовый сервер для просмотра спецификации OpenAPI**

  ```bash
  npm run api:edit
  ```

  Запускает тестовый сервер для просмотра спецификации OpenAPI

## Структура проекта

### Директория `src`

Исходный код проекта: компоненты, модули и так далее.

### Файл `Readme.md`

Инструкции по работе с учебным репозиторием.

### Файл `Contributing.md`

Советы и инструкции по внесению изменений в учебный репозиторий.

### Остальное

Все остальные файлы в проекте являются служебными. Пожалуйста, не удаляйте и не изменяйте их самовольно. Только если того требует задание или наставник.

## Запуск проекта

Если вы хотите запустить проект с нуля, вот последовательность шагов, которые вы должны выполнить:

1. **Запуск мокового сервера**

   В первую очередь необходимо запустить моковый сервер, который будет служить источником данных для проекта. Для этого воспользуйтесь сценарием `mock-server` в вашем `package.json`.

2. **Запуск Docker**

   На следующем шаге мы используем Docker для создания и запуска контейнеров, которые будут использоваться в нашем проекте. Вам потребуется файл `docker-compose.yml`, который должен быть настроен для вашего проекта.

3. **Генерация данных**

   Теперь, когда у нас есть запущенный сервер и настроенные контейнеры, мы можем сгенерировать данные, которые будут использоваться в проекте. Для этого используйте сценарий `start:cli` с параметром `generate`.

4. **Импорт данных**

   Следующий шаг - это импорт данных, которые мы только что сгенерировали. Для этого используйте сценарий `start:cli` с параметром `import`.

5. **Запуск REST приложения**

   Наконец, мы готовы запустить наше REST приложение. Для этого используйте сценарий `start` в вашем `package.json`.

После выполнения всех этих шагов ваш проект готов к работе!

